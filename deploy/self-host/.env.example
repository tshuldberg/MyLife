# Copy this file to .env before running Docker Compose.

# API
MYLIFE_API_PORT=8787
CORS_ORIGIN=*
MYLIFE_ENTITLEMENT_SYNC_KEY=change-me-sync-key
MYLIFE_ENTITLEMENT_ISSUER_KEY=change-me-issuer-key
MYLIFE_ACTOR_IDENTITY_SECRET=change-me-actor-identity-secret
# Optional strict rollout controls for actor tokens:
# MYLIFE_ACTOR_IDENTITY_STRICT_MODE=true
# MYLIFE_ACTOR_IDENTITY_ALLOW_LEGACY_USERID_FALLBACK=false
# MYLIFE_ACTOR_IDENTITY_LEGACY_USERID_FALLBACK_UNTIL=2026-06-30T23:59:59.000Z
SELF_HOST_ADMIN_EMAIL=admin@example.com
SELF_HOST_ADMIN_PASSWORD=change-me-admin-password

# Federation (decentralized server-to-server delivery)
# Set this to your public host (no scheme), e.g. node-a.example.com
MYLIFE_FEDERATION_SERVER=
# Optional default HMAC key for all remote servers
MYLIFE_FEDERATION_SHARED_KEY=
# Optional per-server HMAC keys: host=secret,other-host=secret2
MYLIFE_FEDERATION_SHARED_KEYS=
# Optional protection key for POST /api/federation/dispatch
MYLIFE_FEDERATION_DISPATCH_KEY=
# Allow HTTP for federation only in local/dev labs
MYLIFE_FEDERATION_ALLOW_INSECURE_HTTP=false
MYLIFE_FEDERATION_MAX_ATTEMPTS=6
MYLIFE_FEDERATION_MAX_CLOCK_SKEW_MS=300000
MYLIFE_FEDERATION_DISPATCH_LIMIT=25

# Postgres
POSTGRES_DB=mylife
POSTGRES_USER=mylife
POSTGRES_PASSWORD=change-me-postgres-password
DATABASE_URL=postgres://mylife:change-me-postgres-password@postgres:5432/mylife

# MinIO (S3-compatible storage)
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=change-me-minio-password
MINIO_BUCKET=mylife-objects

# Internal health endpoint checked by the API service
STORAGE_HEALTHCHECK_URL=http://minio:9000/minio/health/live
